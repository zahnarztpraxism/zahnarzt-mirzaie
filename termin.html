<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Buchen Sie Ihren Zahnarzt-Termin bei Zahnarzt Mirzaie in Zeven – online oder telefonisch unter 04281 1515.">
    <title>Termin buchen | Zahnarzt Mirzaie Zeven</title>
    <link rel="canonical" href="https://zahnarzt-mirzaie.de/termin.html">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Termin buchen | Zahnarzt Mirzaie Zeven">
    <meta property="og:description" content="Buchen Sie Ihren Zahnarzt-Termin bei Zahnarzt Mirzaie in Zeven – online oder telefonisch unter 04281 1515.">
    <meta property="og:url" content="https://zahnarzt-mirzaie.de/termin.html">
    <meta property="og:site_name" content="Zahnarztpraxis Mirzaie">
    <meta property="og:locale" content="de_DE">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<nav class="nav">
    <div class="nav-container">
        <a href="index.html" class="nav-logo">
            <div class="nav-logo-icon">M</div>
            <span>Zahnarzt Mirzaie</span>
        </a>
        <button class="nav-toggle" aria-label="Menü öffnen">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
</nav>

<div class="nav-menu">
    <div class="nav-menu-content">
        <ul class="nav-links">
            <li><a href="index.html">Start</a></li>
            <li><a href="leistungen.html">Leistungen</a></li>
            <li><a href="praxis.html">Unsere Praxis</a></li>
            <li><a href="service.html">Online-Service</a></li>
            <li><a href="kontakt.html">Kontakt</a></li>
            <li><a href="karriere.html">Karriere</a></li>
        </ul>
        <div class="nav-cta-menu">
            <a href="termin.html" class="btn btn-primary btn-lg">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                Termin anfragen
            </a>
            <a href="karriere.html" class="btn btn-secondary btn-lg">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>
                Jetzt bewerben
            </a>
            <a href="tel:042811515" class="nav-phone-menu">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.362 1.9.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.91.338 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                04281 1515
            </a>
        </div>
    </div>
</div>

<section class="page-hero">
    <div class="container">
        <h1>Termin vereinbaren</h1>
        <p class="lead">Wir freuen uns auf Ihren Besuch. Senden Sie uns Ihre Terminanfrage – wir melden uns schnellstmöglich bei Ihnen.</p>
    </div>
</section>

<section class="booking-section">
    <div class="container">
        <div class="booking-grid">
            <div class="booking-info">
                <h2>Unsere Sprechzeiten</h2>
                <p>Für dringende Anliegen erreichen Sie uns auch telefonisch.</p>
                <div class="booking-hours">
                    <h4>Öffnungszeiten</h4>
                    <div class="booking-hours-list">
                        <div class="hours-row"><span class="day">Montag</span><span class="time">8:30–12:30 & 14:30–18:00</span></div>
                        <div class="hours-row"><span class="day">Dienstag</span><span class="time">8:30–12:30 & 14:30–18:00</span></div>
                        <div class="hours-row"><span class="day">Mittwoch</span><span class="time">8:30–12:30 & 14:30–18:00</span></div>
                        <div class="hours-row"><span class="day">Donnerstag</span><span class="time">8:30–12:30</span></div>
                        <div class="hours-row"><span class="day">Freitag</span><span class="time">8:30–12:30</span></div>
                    </div>
                </div>
            </div>
            <div class="booking-form" id="booking-form-container">
                <h3>Online-Terminanfrage</h3>
                <p>Füllen Sie das Formular aus – wir bestätigen Ihren Wunschtermin per E-Mail oder telefonisch.</p>
                <form id="termin-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Ihr Name <span class="required">*</span></label>
                            <input type="text" name="name" id="termin-name" class="form-input" required placeholder="Max Mustermann">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Telefon <span class="required">*</span></label>
                            <input type="tel" name="telefon" id="termin-telefon" class="form-input" required placeholder="0170 1234567">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">E-Mail <span class="required">*</span></label>
                            <input type="email" name="email" id="termin-email" class="form-input" required placeholder="ihre@email.de">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Wunschdatum</label>
                            <input type="date" name="wunschdatum" id="termin-datum" class="form-input">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Wunschzeit</label>
                            <select name="wunschzeit" id="termin-zeit" class="form-select">
                                <option value="">Bitte wählen...</option>
                                <option value="Vormittags (8:30-12:30)">Vormittags (8:30-12:30)</option>
                                <option value="Nachmittags (14:30-18:00)">Nachmittags (14:30-18:00)</option>
                                <option value="Flexibel">Flexibel</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Behandlungsgrund</label>
                            <select name="behandlung" id="termin-behandlung" class="form-select">
                                <option value="">Bitte wählen...</option>
                                <option value="Kontrolluntersuchung">Kontrolluntersuchung</option>
                                <option value="Professionelle Zahnreinigung">Professionelle Zahnreinigung</option>
                                <option value="Schmerzbehandlung">Schmerzbehandlung</option>
                                <option value="Beratungsgespräch">Beratungsgespräch</option>
                                <option value="Implantologie">Implantologie</option>
                                <option value="CEREC Zahnersatz">CEREC Zahnersatz</option>
                                <option value="Sonstiges">Sonstiges</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nachricht (optional)</label>
                        <textarea name="nachricht" id="termin-nachricht" class="form-textarea" rows="3" placeholder="Haben Sie besondere Wünsche oder Anmerkungen?"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-checkbox">
                            <input type="checkbox" id="termin-datenschutz" required>
                            <span>Ich stimme der Verarbeitung meiner Daten zur Bearbeitung meiner Anfrage zu. Hinweise zum Datenschutz finden Sie in unserer <a href="datenschutz.html" target="_blank">Datenschutzerklärung</a>.</span>
                        </label>
                    </div>
                    <div class="form-submit">
                        <button type="submit" class="btn btn-primary btn-lg" id="submit-btn">
                            <span id="btn-text">Termin anfragen</span>
                            <span id="btn-loading" style="display:none">Wird gesendet...</span>
                        </button>
                    </div>
                    <p id="form-error" class="form-result" style="color:#ef4444;display:none"></p>
                </form>
            </div>
            <!-- Erfolgsmeldung -->
            <div class="booking-success" id="booking-success" style="display:none">
                <div class="success-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="width:48px;height:48px;color:#22c55e"><polyline points="20 6 9 17 4 12"/></svg>
                </div>
                <h3>Vielen Dank!</h3>
                <p>Ihre Terminanfrage wurde erfolgreich übermittelt.</p>
                <p style="color:var(--text-light);margin-top:8px">Wir melden uns innerhalb von 24 Stunden bei Ihnen, um den Termin zu bestätigen.</p>
                <div style="margin-top:24px;display:flex;gap:12px;flex-wrap:wrap;justify-content:center">
                    <a href="index.html" class="btn btn-primary">Zur Startseite</a>
                    <a href="tel:042811515" class="btn btn-secondary">Oder gleich anrufen</a>
                </div>
            </div>
        </div>
    </div>
</section>

<footer class="footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-brand">
                <a href="index.html" class="nav-logo">
                    <div class="nav-logo-icon">M</div>
                    <span>Zahnarzt Mirzaie</span>
                </a>
                <p>Ihre moderne Zahnarztpraxis in Zeven. Wir verbinden langjährige Erfahrung mit neuester Technologie – für Ihre Zahngesundheit.</p>
            </div>
            <div>
                <h4>Navigation</h4>
                <ul class="footer-links">
                    <li><a href="index.html">Start</a></li>
                    <li><a href="leistungen.html">Leistungen</a></li>
                    <li><a href="praxis.html">Unsere Praxis</a></li>
                    <li><a href="kontakt.html">Kontakt</a></li>
                    <li><a href="karriere.html">Karriere</a></li>
                </ul>
            </div>
            <div>
                <h4>Online-Service</h4>
                <ul class="footer-links">
                    <li><a href="termin.html">Termin buchen</a></li>
                    <li><a href="service.html">Anamnesebogen</a></li>
                </ul>
            </div>
            <div>
                <h4>Kontakt</h4>
                <div class="footer-contact-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
                    <span>Schulstraße 12<br>27404 Zeven</span>
                </div>
                <div class="footer-contact-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.362 1.9.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.91.338 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                    <a href="tel:042811515">04281 1515</a>
                </div>
                <div class="footer-contact-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                    <a href="mailto:praxis@zahnarzt-mirzaie.de">praxis@zahnarzt-mirzaie.de</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2026 Zahnarzt Mirzaie. Alle Rechte vorbehalten.</p>
            <div class="footer-legal">
                <a href="impressum.html">Impressum</a>
                <a href="datenschutz.html">Datenschutz</a>
            </div>
        </div>
    </div>
</footer>

<script src="js/consent.js"></script>
<script src="js/main.js"></script>
<script>
// Backend-URL
const API_URL = 'https://zahnarzt-booking-production.up.railway.app';

document.getElementById('termin-form').addEventListener('submit', async function(e) {
    e.preventDefault();

    // Consent-Prüfung vor dem API-Aufruf
    if (localStorage.getItem('consent-status') !== 'accepted') {
        const errorEl = document.getElementById('form-error');
        errorEl.textContent = 'Bitte akzeptieren Sie die externen Dienste, um die Online-Terminbuchung zu nutzen.';
        errorEl.style.display = 'block';
        return;
    }

    const submitBtn = document.getElementById('submit-btn');
    const btnText = document.getElementById('btn-text');
    const btnLoading = document.getElementById('btn-loading');
    const errorEl = document.getElementById('form-error');

    // Button deaktivieren und Loading anzeigen
    submitBtn.disabled = true;
    btnText.style.display = 'none';
    btnLoading.style.display = 'inline';
    errorEl.style.display = 'none';

    // Formulardaten sammeln
    const data = {
        name: document.getElementById('termin-name').value,
        email: document.getElementById('termin-email').value,
        telefon: document.getElementById('termin-telefon').value,
        wunschdatum: document.getElementById('termin-datum').value || null,
        wunschzeit: document.getElementById('termin-zeit').value || null,
        behandlung: document.getElementById('termin-behandlung').value || null,
        nachricht: document.getElementById('termin-nachricht').value || null
    };

    try {
        const response = await fetch(`${API_URL}/api/termin-anfrage`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        });

        const result = await response.json();

        if (result.success) {
            // Formular ausblenden, Erfolgsmeldung zeigen
            document.getElementById('booking-form-container').style.display = 'none';
            document.getElementById('booking-success').style.display = 'block';
            // Scroll zur Erfolgsmeldung
            document.getElementById('booking-success').scrollIntoView({ behavior: 'smooth', block: 'center' });
        } else {
            throw new Error(result.error || 'Ein Fehler ist aufgetreten');
        }
    } catch (error) {
        // Fehler anzeigen
        errorEl.textContent = error.message || 'Verbindungsfehler. Bitte versuchen Sie es später erneut oder rufen Sie uns an.';
        errorEl.style.display = 'block';

        // Button wieder aktivieren
        submitBtn.disabled = false;
        btnText.style.display = 'inline';
        btnLoading.style.display = 'none';
    }
});

// Mindestdatum für Terminwahl auf heute setzen
document.getElementById('termin-datum').min = new Date().toISOString().split('T')[0];
</script>
</body>
</html>
